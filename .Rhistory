install.packages(c("DBI","odbc","jsonlite","dplyr","ggplot2","viridis","tidyr","DT"))
library(DBI)
library(odbc)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(viridis)
library(tidyr)
`%||%` <- function(a,b) if (!is.null(a) && !is.na(a) && a != "") a else b
cfg <- fromJSON(".db_config.json")
con <- dbConnect(
odbc::odbc(),
Driver = cfg$driver,
Server = cfg$server,
Database = cfg$database,
UID = cfg$username,
PWD = cfg$password,
Encrypt = cfg$encrypt %||% "yes",
TrustServerCertificate = cfg$trust_server_certificate %||% "yes"
)
# 推荐：只取你用得到的列（更快）
sql <- "
SELECT
season, gamePk, inning, halfInning, atBatIndex, startTime, endTime,
homeScore, awayScore,
batter_id, batter_name, pitcher_id, pitcher_name,
bat_side, pitch_hand,
event, eventType, description,
rbi, runs_scored_on_play, balls, strikes, outs,
pitch_number_last, pitch_type_last, start_speed_last,
spin_rate_last, spin_direction_last,
plate_x_last, plate_z_last, zone_last,
launch_speed, launch_angle, hc_x, hc_y
FROM dbo.statcast_plays
"
plays <- dbGetQuery(con, sql)
dbDisconnect(con)
View(plays)
shiny::runApp()
clear
shiny::runApp()
clear
runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
print(ls())
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
getwd()
file.exists(".db_config.json")
odbc::odbcListDrivers()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
Sys.getenv("HF_TOKEN")
shiny::runApp()
shiny::runApp()
runApp()
install.packages("reticulate")
shiny::runApp()
library(reticulate)
py_config()
library(reticulate)
py_config()
